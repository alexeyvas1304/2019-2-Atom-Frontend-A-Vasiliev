(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{24:function(e,t,a){e.exports=a(38)},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),c=a(17),o=a(18),s=a(22),m=a(19),l=a(9),p=a(23),d=a(7),h=a(5),u=(a(29),a(10));a(30);function g(e,t){var a=e.boxId,i=e.cities,c=e.switcher,o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],l=s[1];Object(n.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(a,"&appid=b41984b8b5135f1695c5faac30990138")).then((function(e){return e.json()})).then((function(e){var t,a={id:e.id,geo:e.name+", "+e.sys.country,icon:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),temperature:Math.round(e.main.temp-273.15)+"\u2103",additionalWeather:"Humidity "+e.main.humidity+"% | "+(t=e.wind.deg,t>=45&&t<=135?"east":t>=135&&t<=225?"south":t>=225&&t<=315?"west":"north")+" | "+e.wind.speed+" m/s",tempDiapazon:Math.round(e.main.temp_max-273.15)+"/"+Math.round(e.main.temp_min-273.15)+"\u2103"};l(a)}))}),[a]);var p=r.a.createElement(d.b,{to:"/location/".concat(m.geo)},r.a.createElement("div",{className:"wrapper",onClick:function(){console.log("\u043d\u0430\u0436\u0430\u043b",m.geo),c(i,m.geo)}},r.a.createElement("div",{className:"upper"},r.a.createElement("div",{className:"geo"},m.geo),r.a.createElement("div",{className:"commonWeather"},r.a.createElement("div",{className:"imageWrapper"},r.a.createElement("img",{className:"weatherIcon",alt:"weathericon",src:m.icon})),m.temperature)),r.a.createElement("div",{className:"lower"},r.a.createElement("div",{className:"additionalWeather"},m.additionalWeather),r.a.createElement("div",{className:"diapazon"},m.tempDiapazon))));return r.a.createElement("div",null,p)}a(36);function w(e){var t=e.cities,a=e.currentCity,i=e.switcher;Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var n=e.coords;fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n.latitude,"&lon=").concat(n.longitude,"&appid=b41984b8b5135f1695c5faac30990138")).then((function(e){return e.json()})).then((function(e){var n=e.id;e.id!==t[0]&&t.unshift(n),i(t,a)}))}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}),[t,i,a]);var c=r.a.createElement("img",{className:"burgerButton",alt:"left",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Hamburger_icon.svg/1200px-Hamburger_icon.svg.png"}),o=r.a.createElement("img",{className:"threePointsButton",alt:"right",src:"https://image.flaticon.com/icons/png/512/64/64576.png"});return r.a.createElement("div",null,r.a.createElement("div",{className:"firstHeader"},c,r.a.createElement("div",{className:"title"},a),o),r.a.createElement("div",null,t.map((function(e){return r.a.createElement(g,{key:e,switcher:i,cities:t,boxId:e})}))),r.a.createElement("img",{className:"newButton",alt:"\u043a\u043d\u043e\u043f\u043a\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430",src:"https://icon-library.net/images/plus-button-icon/plus-button-icon-27.jpg",onClick:function(){var e=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430","");fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=b41984b8b5135f1695c5faac30990138")).then((function(e){return e.json()})).then((function(e){console.log(e),200!==e.cod?alert("\u0413\u043e\u0440\u043e\u0434\u0430 \u0441 \u0442\u0430\u043a\u0438\u043c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"):t.includes(e.id)?alert("\u0413\u043e\u0440\u043e\u0434 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435"):(t.push(e.id),console.log("ll",t),localStorage.setItem("cities",JSON.stringify(t.slice(1))),i(t,a))}))}}))}a(37);function f(e){var t=e.cities,a=e.currentCity,i=e.switcher,c=Object(n.useState)([]),o=Object(u.a)(c,2),s=o[0],m=o[1];Object(n.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(a.split(",")[0],"&cnt=17&appid=b41984b8b5135f1695c5faac30990138")).then((function(e){return e.json()})).then((function(e){console.log(e);var t={tempNow:Math.round(e.list[0].main.temp-273.15)+"\u2103",iconNow:"http://openweathermap.org/img/wn/".concat(e.list[0].weather[0].icon,"@2x.png"),descriptionNow:e.list[0].weather[0].description,tempDiapazonNow:Math.round(e.list[0].main.temp_max-273.15)+"/"+Math.round(e.list[0].main.temp_min-273.15)+"\u2103",tempToday:Math.round(e.list[1].main.temp-273.15)+"\u2103",iconToday:"http://openweathermap.org/img/wn/".concat(e.list[1].weather[0].icon,"@2x.png"),descriptionToday:e.list[1].weather[0].description,tempDiapazonToday:Math.round(e.list[1].main.temp_max-273.15)+"/"+Math.round(e.list[1].main.temp_min-273.15)+"\u2103",tempTomorrow:Math.round(e.list[8].main.temp-273.15)+"\u2103",iconTomorrow:"http://openweathermap.org/img/wn/".concat(e.list[8].weather[0].icon,"@2x.png"),descriptionTomorrow:e.list[8].weather[0].description,tempDiapazonTomorrow:Math.round(e.list[8].main.temp_max-273.15)+"/"+Math.round(e.list[8].main.temp_min-273.15)+"\u2103",tempAfterTomorrow:Math.round(e.list[16].main.temp-273.15)+"\u2103",iconAfterTomorrow:"http://openweathermap.org/img/wn/".concat(e.list[16].weather[0].icon,"@2x.png"),descriptionAfterTomorrow:e.list[16].weather[0].description,tempDiapazonAfterTomorrow:Math.round(e.list[16].main.temp_max-273.15)+"/"+Math.round(e.list[16].main.temp_min-273.15)+"\u2103"};console.log(t),m(t)}))}),[a]);var l=r.a.createElement(d.b,{to:"/"},r.a.createElement("img",{className:"backButton",alt:"button back",src:"https://image.flaticon.com/icons/png/512/12/12104.png",onClick:function(){i(t,"Manage cities")}})),p=r.a.createElement("img",{className:"threePointsButton",alt:"three points icon",src:"https://image.flaticon.com/icons/png/512/64/64576.png"});return r.a.createElement("div",{className:"allPage"},r.a.createElement("div",{className:"secondHeader"},l,r.a.createElement("div",{className:"title"},a),p),r.a.createElement("div",{className:"allForecast"},r.a.createElement("div",{className:"mainPart"},r.a.createElement("div",{className:"imageWrapper"},r.a.createElement("img",{className:"weatherIcon",alt:"weathericon",src:s.iconNow})),s.tempNow),r.a.createElement("div",{className:"forecastList"},r.a.createElement("div",{className:"forecastToday"},r.a.createElement("div",{className:"leftPart"},r.a.createElement("div",{className:"imageWrapper"},r.a.createElement("img",{className:"weatherIcon",alt:"weathericon",src:s.iconToday})),r.a.createElement("div",{className:"textWrapper"},"Today: "+s.descriptionToday)),r.a.createElement("div",{className:"rightPart"},s.tempDiapazonToday)),r.a.createElement("div",{className:"forecastTomorrow"},r.a.createElement("div",{className:"leftPart"},r.a.createElement("div",{className:"imageWrapper"},r.a.createElement("img",{className:"weatherIcon",alt:"weathericon",src:s.iconTomorrow})),r.a.createElement("div",{className:"textWrapper"},"Tomorrow: "+s.descriptionTomorrow)),r.a.createElement("div",{className:"rightPart"},s.tempDiapazonTomorrow)),r.a.createElement("div",{className:"forecastAfterTomorrow"},r.a.createElement("div",{className:"leftPart"},r.a.createElement("div",{className:"imageWrapper"},r.a.createElement("img",{className:"weatherIcon",alt:"weathericon",src:s.iconAfterTomorrow})),r.a.createElement("div",{className:"textWrapper"},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][((new Date).getDay()+2)%7]+": "+s.descriptionAfterTomorrow)),r.a.createElement("div",{className:"rightPart"},s.tempDiapazonAfterTomorrow)))))}var E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={cities:JSON.parse(localStorage.getItem("cities"))||[707860,519188,1283378,529334],currentCity:"Manage cities"},a.switcher=a.switcher.bind(Object(l.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"switcher",value:function(e,t){this.setState({cities:e,currentCity:t})}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/location/".concat(this.state.currentCity)},r.a.createElement(f,{cities:this.state.cities,currentCity:this.state.currentCity,switcher:this.switcher})),r.a.createElement(h.a,{path:"/"},r.a.createElement(w,{cities:this.state.cities,currentCity:this.state.currentCity,switcher:this.switcher}))))}}]),t}(n.Component);Object(i.render)(r.a.createElement(E,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.cd59bbf9.chunk.js.map